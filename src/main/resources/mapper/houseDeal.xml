<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="com.ssafy.happyhouse.model.mapper.HouseDealMapper">
	
	<!-- 아파트 이름으로 검색 -->
	<select id="searchByAptName" parameterType="String"  resultType="houseDealDto">
		select *
		from housedeal
		where AptName like CONCAT('%', #{AptName}, '%')
	</select>
	
	<!-- 동 이름으로 검색 -->
	<select id="searchByDong" parameterType="String"  resultType="houseDealDto">
		select *
		from housedeal
		where dong like CONCAT('%', #{dong}, '%')
	</select>
	
	<!-- 지하철역 이름으로 검색 -->
	<select id="searchByStationName" parameterType="String"  resultType="houseDealDto">
		select *
		from housedeal as hd
		join station as st
		on hd.dong = st.dong
		where station_name = #{stationName} or station_name = concat(#{stationName}, '역')
	</select>

</mapper>